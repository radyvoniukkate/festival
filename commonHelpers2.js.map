{"version":3,"file":"commonHelpers2.js","sources":["../src/js/login.js"],"sourcesContent":["import { logIn } from '../api/festival.js';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const loginForm = document.querySelector('.feedback-form');\n  const logoutBtn = document.getElementById('logoutBtn');\n  const loginLink = document.getElementById('loginLink');\n\n  // Перевірка стану аутентифікації при завантаженні сторінки\n  if (localStorage.getItem('isAuthenticated') === 'true') {\n    loginLink.style.display = 'none';\n    logoutBtn.style.display = 'block';\n  }\n\n  loginForm.addEventListener('submit', function (event) {\n    event.preventDefault();\n    const username = loginForm.username.value;\n    const password = loginForm.password.value;\n\n    if (username === 'admin@gmail.com' && password === '11111111') {\n      localStorage.setItem('isAuthenticated', 'true');\n      window.location.href = './tours.html'; // Перенаправлення на сторінку турів після успішного входу\n    } else {\n      alert('Неправильний логін або пароль');\n    }\n  });\n\n  logoutBtn.addEventListener('click', function () {\n    localStorage.removeItem('isAuthenticated');\n    window.location.href = './index.html'; // Перенаправлення на головну сторінку після виходу\n  });\n});\n\n\n\n/*const formData = {\n  username: '',\n  password: '',\n};\n\nconst form = document.querySelector('.feedback-form');\n\nconst loadFormDataFromLocalStorage = () => {\n  const savedData = localStorage.getItem('feedback-form-state');\n  if (savedData) {\n    const parsedData = JSON.parse(savedData);\n    Object.assign(formData, parsedData); // Копіюємо властивості з parsedData в formData\n    form.elements.username.value = formData.username;\n    form.elements.password.value = formData.password;\n  }\n};\n\nloadFormDataFromLocalStorage();\n\nform.addEventListener('input', event => {\n  const { name, value } = event.target;\n\n  formData[name] = value;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n});\n\nconst isFormValid = () => {\n  return formData.username.trim() !== '' && formData.password.trim() !== '';\n};\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (!isFormValid()) {\n    alert('Fill please all fields');\n    return;\n  }\nconst response = logIn(formData);\n\nconsole.log(formData);\nconsole.log(response);\n\n  localStorage.removeItem('feedback-form-state');\n  form.reset();\n  Object.keys(formData).forEach(key => (formData[key] = '')); // Очищаємо дані у formData\n});\n*/"],"names":["loginForm","logoutBtn","loginLink","event","username","password"],"mappings":"0GAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAY,SAAS,eAAe,WAAW,EAGjD,aAAa,QAAQ,iBAAiB,IAAM,SAC9CA,EAAU,MAAM,QAAU,OAC1BD,EAAU,MAAM,QAAU,SAG5BD,EAAU,iBAAiB,SAAU,SAAUG,EAAO,CACpDA,EAAM,eAAc,EACpB,MAAMC,EAAWJ,EAAU,SAAS,MAC9BK,EAAWL,EAAU,SAAS,MAEhCI,IAAa,mBAAqBC,IAAa,YACjD,aAAa,QAAQ,kBAAmB,MAAM,EAC9C,OAAO,SAAS,KAAO,gBAEvB,MAAM,+BAA+B,CAE3C,CAAG,EAEDJ,EAAU,iBAAiB,QAAS,UAAY,CAC9C,aAAa,WAAW,iBAAiB,EACzC,OAAO,SAAS,KAAO,cAC3B,CAAG,CACH,CAAC"}